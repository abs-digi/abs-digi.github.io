---
import type { HTMLAttributes } from 'astro/types';

type AnchorProps = HTMLAttributes<'a'> & { href: string; type?: never; variant?: 'default' | 'outline' | 'filled' };
type ButtonProps = HTMLAttributes<'button'> & { href?: never; variant?: 'default' | 'outline' | 'filled' };

type Props = ButtonProps | AnchorProps;

const { href, class: className, variant = 'default', ...rest } = Astro.props;

const baseClasses = 'inline-flex items-center justify-center px-6 py-2 font-serif leading-tight italic rounded-full transition-colors';

const variants = {
    default: 'text-main bg-transparent border border-main hover:bg-muted',
    outline: 'text-[var(--accent)] border border-[var(--accent)] bg-transparent hover:bg-[var(--accent-light)] hover:text-[var(--bg-main)]',
    filled: 'text-[var(--bg-main)] bg-[var(--accent)] border border-[var(--accent)] hover:bg-[var(--accent-light)]'
};

const buttonClasses = `${baseClasses} ${variants[variant]}`;
---

{
    href ? (
        <a href={href} class:list={[buttonClasses, className]} {...rest}>
            <slot />
        </a>
    ) : (
        <button class:list={[buttonClasses, 'cursor-pointer', className]} {...rest}>
            <slot />
        </button>
    )
}
